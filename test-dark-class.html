<!DOCTYPE html>
<html>
<head>
    <title>Dark Mode Class Test</title>
    <style>
        body { 
            font-family: monospace; 
            padding: 20px;
            background: #f3f4f6;
        }
        .status { 
            padding: 10px; 
            margin: 10px 0; 
            border-radius: 4px;
        }
        .success { 
            background: #d1fae5; 
            color: #065f46;
        }
        .error { 
            background: #fee2e2; 
            color: #991b1b;
        }
        pre {
            background: #1f2937;
            color: #f3f4f6;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>Dark Mode Class Application Test</h1>
    <p>Open this page and the Storybook page side by side. Click the theme toggle in Storybook and check the console here.</p>
    
    <iframe id="storybook-frame" src="http://localhost:6006" style="width: 100%; height: 400px; border: 1px solid #ccc;"></iframe>
    
    <div id="status"></div>
    
    <h2>Instructions:</h2>
    <ol>
        <li>The Storybook instance is loaded in the iframe above</li>
        <li>Look for the theme toggle (sun/moon icon) in the Storybook toolbar</li>
        <li>Click it to switch themes</li>
        <li>Check if the dark class is being applied to the document</li>
    </ol>

    <h2>Manual Check:</h2>
    <p>In your browser's Developer Tools:</p>
    <pre>
1. Open Developer Tools (F12 or right-click â†’ Inspect)
2. Go to the Elements/Inspector tab
3. Look at the &lt;html&gt; or &lt;body&gt; element
4. When you toggle dark mode, you should see class="dark" being added/removed
5. You can also run this in the console:
   document.documentElement.classList.contains('dark')
   document.body.classList.contains('dark')
    </pre>

    <script>
        function checkDarkMode() {
            const statusDiv = document.getElementById('status');
            
            try {
                // Try to access the iframe
                const iframe = document.getElementById('storybook-frame');
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                
                const htmlHasDark = iframeDoc.documentElement.classList.contains('dark');
                const bodyHasDark = iframeDoc.body.classList.contains('dark');
                
                let statusHTML = '<h3>Current Status:</h3>';
                statusHTML += `<div class="status ${htmlHasDark ? 'success' : 'error'}">HTML element has dark class: ${htmlHasDark}</div>`;
                statusHTML += `<div class="status ${bodyHasDark ? 'success' : 'error'}">Body element has dark class: ${bodyHasDark}</div>`;
                
                statusDiv.innerHTML = statusHTML;
            } catch (e) {
                statusDiv.innerHTML = '<div class="status error">Cannot access iframe due to CORS. Please check manually in Developer Tools.</div>';
            }
        }
        
        // Check every 2 seconds
        setInterval(checkDarkMode, 2000);
        
        // Initial check
        setTimeout(checkDarkMode, 1000);
    </script>
</body>
</html>
